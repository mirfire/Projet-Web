{% extends 'base.html.twig' %}

{% block body %}
        <div class="container text-center">
            {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                Connnecté en tant que {{app.user.username}}
                <br>
                <a href="{{ path('fos_user_security_logout') }}">
                    Se déconnecter
                </a>
            {% else %}
                {% if 'login' in app.request.get('_route')  %}
                    <h2>Connexion</h2>
                {% elseif 'register' in app.request.get('_route')  %}
                    <h2>Inscription</h2>
                {% else %}
                    <h2>Erreur: Définition de connexion manquante</h2>
                {% endif %}
            {% endif %}
        </div>

        {% if app.request.hasPreviousSession %}
            {% for type, messages in app.session.flashbag.all() %}
                {% for message in messages %}
                    <div class="flash-{{ type }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endfor %}
        {% endif %}

        <div class="container">
            {% block fos_user_content %}
            {% endblock fos_user_content %}
        </div>
{% endblock body %}
